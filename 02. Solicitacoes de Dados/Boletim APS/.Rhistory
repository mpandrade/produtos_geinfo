'unidade',
'municipio'))
ind_1.9.3 <- select(ind_pontual.eqp, ind_1.9.3) %>%
cross_join(select(ind_pontual.und, ind_1.9.3)) %>%
cross_join(select(ind_pontual.mun, ind_1.9.3)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_1.13 <- select(ind_pontual.eqp, ind_1.13) %>%
cross_join(select(ind_pontual.und, ind_1.13)) %>%
cross_join(select(ind_pontual.mun, ind_1.13)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_1.16 <- select(ind_pontual.eqp, ind_1.16) %>%
cross_join(select(ind_pontual.und, ind_1.16)) %>%
cross_join(select(ind_pontual.mun, ind_1.16)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_3.1 <- select(ind_pontual.eqp, ind_3.1) %>%
cross_join(select(ind_pontual.und, ind_3.1)) %>%
cross_join(select(ind_pontual.mun, ind_3.1)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_3.2 <- select(ind_pontual.eqp, ind_3.2) %>%
cross_join(select(ind_pontual.und, ind_3.2)) %>%
cross_join(select(ind_pontual.mun, ind_3.2)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_3.3 <- select(ind_pontual.eqp, ind_3.3) %>%
cross_join(select(ind_pontual.und, ind_3.3)) %>%
cross_join(select(ind_pontual.mun, ind_3.3)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_3.4 <- select(ind_pontual.eqp, ind_3.4) %>%
cross_join(select(ind_pontual.und, ind_3.4)) %>%
cross_join(select(ind_pontual.mun, ind_3.4)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_3.5 <- select(ind_pontual.eqp, ind_3.5) %>%
cross_join(select(ind_pontual.und, ind_3.5)) %>%
cross_join(select(ind_pontual.mun, ind_3.5)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_3.6 <- select(ind_pontual.eqp, ind_3.6) %>%
cross_join(select(ind_pontual.und, ind_3.6)) %>%
cross_join(select(ind_pontual.mun, ind_3.6)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_3.7 <- select(ind_pontual.eqp, ind_3.7) %>%
cross_join(select(ind_pontual.und, ind_3.7)) %>%
cross_join(select(ind_pontual.mun, ind_3.7)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_3.8 <- select(ind_pontual.eqp, ind_3.8) %>%
cross_join(select(ind_pontual.und, ind_3.8)) %>%
cross_join(select(ind_pontual.mun, ind_3.8)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_3.9 <- select(ind_pontual.eqp, ind_3.9) %>%
cross_join(select(ind_pontual.und, ind_3.9)) %>%
cross_join(select(ind_pontual.mun, ind_3.9)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_3.10 <- select(ind_pontual.eqp, ind_3.10) %>%
cross_join(select(ind_pontual.und, ind_3.10)) %>%
cross_join(select(ind_pontual.mun, ind_3.10)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_3.11 <- select(ind_pontual.eqp, ind_3.11) %>%
cross_join(select(ind_pontual.und, ind_3.11)) %>%
cross_join(select(ind_pontual.mun, ind_3.11)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_3.12 <- select(ind_pontual.eqp, ind_3.12) %>%
cross_join(select(ind_pontual.und, ind_3.12)) %>%
cross_join(select(ind_pontual.mun, ind_3.12)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_3.13 <- select(ind_pontual.eqp, ind_3.13) %>%
cross_join(select(ind_pontual.und, ind_3.13)) %>%
cross_join(select(ind_pontual.mun, ind_3.13)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
ind_3.14 <- select(ind_pontual.eqp, ind_3.14) %>%
cross_join(select(ind_pontual.und, ind_3.14)) %>%
cross_join(select(ind_pontual.mun, ind_3.14)) %>%
`colnames<-`(c('equipe',
'unidade',
'municipio'))
return(list(ind_1.1 = ind_1.1,
ind_1.2 = ind_1.2,
ind_1.3 = ind_1.3,
ind_1.4 = ind_1.4,
ind_1.5 = ind_1.5,
ind_1.6 = ind_1.6,
ind_1.7 = ind_1.7,
ind_1.10 = ind_1.10,
ind_1.12 = ind_1.12,
ind_1.14 = ind_1.14,
ind_1.15 = ind_1.15,
ind_2.1 = ind_2.1,
ind_2.2 = ind_2.2,
ind_2.3 = ind_2.3,
ind_2.4 = ind_2.4,
ind_2.5 = ind_2.5,
ind_2.6 = ind_2.6,
ind_2.7 = ind_2.7,
ind_1.8 = ind_1.8,
ind_1.9.1 = ind_1.9.1,
ind_1.9.2 = ind_1.9.2,
ind_1.9.3 = ind_1.9.3,
ind_1.13 = ind_1.13,
ind_1.16 = ind_1.16,
ind_3.1 = ind_3.1,
ind_3.2 = ind_3.2,
ind_3.3 = ind_3.3,
ind_3.4 = ind_3.4,
ind_3.5 = ind_3.5,
ind_3.6 = ind_3.6,
ind_3.7 = ind_3.7,
ind_3.8 = ind_3.8,
ind_3.9 = ind_3.9,
ind_3.10 = ind_3.10,
ind_3.11 = ind_3.11,
ind_3.12 = ind_3.12,
ind_3.13 = ind_3.13,
ind_3.14 = ind_3.14))
}
teste <- dados_equipe(300)
teste
colnames(teste)
names(teste)
source("C:/Users/matheus.andrade/OneDrive/Documentos/Trabalho/Geinfo/Queries/Boletim APS/boletim2.R")
painel
lapply(painel, sort)
painel[order(names(painel))]
painel <- dados_equipe(300)
painel <- painel[order(names(painel))]
painel <- dados_equipe(300)
painel <- painel[c('ind_1.1',
'ind_1.2',
'ind_1.3',
'ind_1.4',
'ind_1.5',
'ind_1.6',
'ind_1.7',
'ind_1.8',
'ind_1.9.1',
'ind_1.9.2',
'ind_1.9.3',
'ind_1.10',
'ind_1.12',
'ind_1.13',
'ind_1.14',
'ind_1.15',
'ind_1.16',
'ind_2.1',
'ind_2.2',
'ind_2.3',
'ind_2.4',
'ind_2.5',
'ind_2.6',
'ind_2.7',
'ind_3.1',
'ind_3.2',
'ind_3.3',
'ind_3.4',
'ind_3.5',
'ind_3.6',
'ind_3.7',
'ind_3.8',
'ind_3.9',
'ind_3.10',
'ind_3.11',
'ind_3.12',
'ind_3.13',
'ind_3.14')]
library(tidyverse)
library(lubridate)
library(rstudioapi)
library(knitr)
equipe <- 300
source('boletim2.R')
kable(painel$ind_1.1,
'simple')
kable(painel$ind_1.1)
painel$ind_1.1 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = equipe, color = 'Equipe')) +
geom_line(aes(y = unidade, color = 'Unidade')) +
geom_line(aes(y = equipe, color = 'Município')) +
ylim(0, 100)
painel$ind_1.1 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = equipe, color = 'Equipe')) +
geom_line(aes(y = unidade, color = 'Unidade')) +
geom_line(aes(y = equipe, color = 'Município')) +
ylim(0, 100)
painel$ind_1.1 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = equipe, color = 'Equipe')) +
geom_line(aes(y = unidade, color = 'Unidade')) +
geom_line(aes(y = equipe, color = 'Municipio')) +
ylim(0, 100)
painel$ind_1.2 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = equipe, color = 'Equipe')) +
geom_line(aes(y = unidade, color = 'Unidade')) +
geom_line(aes(y = equipe, color = 'Municipio')) +
ylim(0, 100)
painel$ind_1.1 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = equipe, color = 'Equipe')) +
geom_line(aes(y = unidade, color = 'Unidade')) +
geom_line(aes(y = equipe, color = 'Municipio')) +
ylim(0, 100)
painel$ind_1.1 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = equipe, color = 'Equipe')) +
geom_line(aes(y = unidade, color = 'Unidade')) +
geom_line(aes(y = municipio, color = 'Municipio')) +
ylim(0, 100)
painel$ind_1.1 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = equipe, color = 'Equipe')) +
geom_line(aes(y = unidade, color = 'Unidade')) +
geom_line(aes(y = municipio, color = 'Municipio')) +
scale_color_manual('Escopo', values = c('Equipe' = 'darkblue',
'Unidade' = 'blue',
'Município' = 'lightblue'))
ylim(0, 100)
painel$ind_1.1 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = equipe, color = 'Equipe')) +
geom_line(aes(y = unidade, color = 'Unidade')) +
geom_line(aes(y = municipio, color = 'Municipio')) +
scale_color_manual('Escopo', values = c('Equipe' = 'darkblue',
'Unidade' = 'blue',
'Municipio' = 'lightblue'))
ylim(0, 100)
painel$ind_1.1 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = equipe, color = 'Equipe')) +
geom_line(aes(y = unidade, color = 'Unidade')) +
geom_line(aes(y = municipio, color = 'Municipio')) +
scale_color_manual('Escopo', values = c('Equipe' = 'darkblue',
'Unidade' = 'darkgreen',
'Municipio' = 'darkred'))
ylim(0, 100)
painel$ind_1.1 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = equipe, color = 'Equipe')) +
geom_line(aes(y = unidade, color = 'Unidade')) +
geom_line(aes(y = municipio, color = 'Municipio')) +
scale_color_manual('Escopo', values = c('Equipe' = 'darkblue',
'Unidade' = 'darkgreen',
'Municipio' = 'darkred')) +
labs(y = 'Resultado',
x = 'Mês') +
ylim(0, 100)
painel$ind_1.1 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = equipe, color = 'Equipe')) +
geom_line(aes(y = unidade, color = 'Unidade')) +
geom_line(aes(y = municipio, color = 'Municipio')) +
scale_color_manual('Escopo', values = c('Equipe' = 'darkblue',
'Unidade' = 'darkgreen',
'Municipio' = 'darkred')) +
labs(y = 'Resultado',
x = 'Mes') +
ylim(0, 100)
kable(painel$ind_1.1,
col.names = c('Equipe',
'Unidade',
'Municipio'))
kable(painel$ind_1.1,
col.names = c('Mes',
'Equipe',
'Unidade',
'Municipio'))
kable(painel$ind_1.1,
col.names = c('Mes',
'Equipe',
'Unidade',
'Municipio'),
digits = 2)
library(ggthemes)
painel$ind_1.1 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = equipe, color = 'Equipe')) +
geom_line(aes(y = unidade, color = 'Unidade')) +
geom_line(aes(y = municipio, color = 'Municipio')) +
scale_color_manual('Escopo', values = c('Equipe' = 'darkblue',
'Unidade' = 'darkgreen',
'Municipio' = 'darkred')) +
labs(y = 'Resultado',
x = 'Mes') +
ylim(0, 100) +
theme_gdocs()
painel$ind_1.1 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = equipe, color = 'Equipe')) +
geom_line(aes(y = unidade, color = 'Unidade')) +
geom_line(aes(y = municipio, color = 'Municipio')) +
scale_color_manual('Escopo', values = c('Equipe' = 'darkblue',
'Unidade' = 'darkgreen',
'Municipio' = 'darkred')) +
labs(y = 'Resultado',
x = 'Mes') +
ylim(0, 100) +
theme_minimal()
kable(painel$ind_1.13,
col.names = c('Equipe',
'Unidade',
'Municipio'),
digits = 2,
align = 'ccc')
install.packages("ymlthis")
ymlthis:::launch_yaml_addin()
install.packages("rticles")
devtools::install_github("hrbrmstr/markdowntemplates")
install.packages('flextable')
flextable::flextable(painel$ind_1.1)
flextable::flextable(painel$ind_1.1)
flextable::flextable(painel$ind_1.1,
col_keys = c('Mês', 'Equipe', 'Unidade', 'Município')
)
flextable::flextable(painel$ind_1.1)
flextable::flextable(painel$ind_1.1) %>%
theme_vanilla()
library(tidyverse)
flextable::flextable(painel$ind_1.1) %>%
theme_vanilla()
flextable::flextable(painel$ind_1.1) %>%
flextable::theme_apa()
flextable::flextable(painel$ind_1.1) %>%
flextable::theme_vanilla()
flextable::flextable(painel$ind_1.1) %>%
flextable::set_header_labels(mes = 'Mês', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Município')
flextable::flextable(painel$ind_1.1) %>%
flextable::set_header_labels(mes = 'Mês', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Município')
flextable::flextable(painel$ind_1.1) %>%
flextable::set_header_labels(mes = 'Mês', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Município') %>%
flextable::theme_vanilla()
flextable::flextable(painel$ind_1.1) %>%
flextable::set_header_labels(mes = 'Mês', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Município') %>%
flextable::theme_zebra()
flextable(painel$ind_1.1) %>%
set_header_labels(mes = 'Mês', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Município') %>%
library(flextable)
flextable(painel$ind_1.1) %>%
set_header_labels(mes = 'Mês', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Município') %>%
flextable(painel$ind_1.1) %>%
set_header_labels(mes = 'Mês', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Município') %>%
flextable(painel$ind_1.1) %>%
set_header_labels(mes = "Mês", equipe = 'Equipe', unidade = 'Unidade', municipio = 'Município') %>%
fit_to_width(max_width = 5) %>%
theme_zebra()
flextable(painel$ind_1.1) %>%
set_header_labels(mes = "Mês", equipe = 'Equipe', unidade = 'Unidade', municipio = 'Município') %>%
flextable(painel$ind_1.1) %>%
set_header_labels(mes = 'Mes', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Municipio') %>%
fit_to_width(max_width = 5) %>%
theme_zebra()
flextable(painel$ind_1.1) %>%
set_header_labels(mes = 'Mes', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Municipio') %>%
width(width = 1) %>%
theme_zebra()
flextable(painel$ind_1.1) %>%
set_header_labels(mes = 'Mes', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Municipio') %>%
autofit() %>%
theme_zebra()
flextable(painel$ind_1.1) %>%
set_header_labels(mes = 'Mês', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Município') %>%
capabilities()
flextable(painel$ind_1.8) %>%
set_header_labels(mes = 'Mes', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Municipio') %>%
width(width = 1.5) %>%
theme_apa()
flextable(painel$ind_1.8) %>%
set_header_labels(mes = 'Mes', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Municipio') %>%
width(width = 1.5) %>%
theme_apa()
library(tidyverse)
library(tidyverse)
library(lubridate)
library(rstudioapi)
library(knitr)
library(ggthemes)
library(tidyverse)
library(lubridate)
library(rstudioapi)
library(knitr)
library(ggthemes)
library(flextable)
library(tidyverse)
library(lubridate)
library(rstudioapi)
library(knitr)
library(ggthemes)
library(flextable)
options(knitr.kable.NA = "-")
equipe <- params$equipe
source('boletim2.R')
source('boletim2.R')
equipe.analise <- equipe
unidade.analise <- equipes.df$unidade[equipes.df$equipe == equipe]
flextable(painel$ind_1.8) %>%
set_header_labels(mes = 'Mes', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Municipio') %>%
width(width = 1.5) %>%
theme_apa()
flextable(painel$ind_1.8) %>%
set_header_labels(mes = 'Mes', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Municipio') %>%
width(width = 1.5) %>%
fontsize(size = 14, part = 'all') %>%
theme_apa()
flextable(painel$ind_1.8) %>%
set_header_labels(mes = 'Mes', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Municipio') %>%
width(width = 2) %>%
fontsize(size = 14, part = 'all') %>%
theme_apa()
flextable(painel$ind_1.8) %>%
set_header_labels(mes = 'Mes', equipe = 'Equipe', unidade = 'Unidade', municipio = 'Municipio') %>%
width(width = 2.5) %>%
fontsize(size = 14, part = 'all') %>%
theme_apa()
install.packages('girdExtra')
install.packages('gridExtra')
p1 <- painel$ind_2.1 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = equipe, color = 'Equipe')) +
scale_color_manual('Escopo', values = c('Equipe' = 'darkblue',
'Unidade' = 'darkgreen',
'Município' = 'darkred')) +
labs(y = 'Resultado',
x = 'Mês') +
theme_minimal() +
theme(legend.position="bottom")
p2 <- painel$ind_2.1 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = unidade, color = 'Unidade')) +
scale_color_manual('Escopo', values = c('Equipe' = 'darkblue',
'Unidade' = 'darkgreen',
'Município' = 'darkred')) +
labs(y = 'Resultado',
x = 'Mês') +
theme_minimal() +
theme(legend.position="bottom")
p3 <- painel$ind_2.1 %>%
ggplot(aes(x = mes)) +
geom_line(aes(y = municipio, color = 'Município')) +
scale_color_manual('Escopo', values = c('Equipe' = 'darkblue',
'Unidade' = 'darkgreen',
'Município' = 'darkred')) +
labs(y = 'Resultado',
x = 'Mês') +
theme_minimal() +
theme(legend.position="bottom")
grid.arrange(p1,
p2,
p3,
ncol = 3)
library(gridExtra)
grid.arrange(p1,
p2,
p3,
ncol = 3)
View(painel)
View(painel)
ind_cid.eqp.df <- read.csv2(paste0('ind_pontual_eqp.', mes.atual, '.csv'))
ind_cid.eqp.df
View(ind_cid.eqp.df)
View(ind_cid.eqp.df)
ind_cid.eqp.df <- read.csv2(paste0('ind_cid_eqp.', mes.atual, '.csv'))
View(ind_cid.eqp.df)
ind_cid.eqp.df %>%
filter(equipe == 300)
ind_cid.eqp.df %>%
filter(equipe == 300) %>%
group_by(cd_grupo_cid, nm_grupo_cid) %>%
summarise(consultas = sum(consultas)) %>%
mutate(freq = consultas / sum(consultas))
ind_cid.eqp.df %>%
filter(equipe == 300) %>%
group_by(cd_grupo_cid, nm_grupo_cid) %>%
summarise(consultas = sum(consultas)) %>%
mutate(freq = prop.table(consultas))
ind_cid.eqp.df %>%
filter(equipe == 300) %>%
mutate(freq = prop.table(consultas))
ind_cid.eqp.df %>%
filter(equipe == 300) %>%
mutate(freq = round(prop.table(consultas) * 100, 2))
ind_cid.eqp.df %>%
filter(equipe == 300) %>%
mutate(freq = round(prop.table(consultas) * 100, 2)) %>%
select(cd_grupo_cid, nm_grupo_cid, consultas, freq)
